#!/bin/sh

# tkdiff is not available on Fedora; prefer system installed tkdiff
# Prefer the first tkdiff in PATH that is not this script
for candidate in $(which -a tkdiff 2>/dev/null | awk '!seen[$0]++'); do
    if [ "$candidate" != "$0" ] && [ -x "$candidate" ]; then
        exec "$candidate" "$@"
    fi
done

# fallback to the versioned executable from this dotfiles repo
# 5.4 is the latest release that can still ignore whitespaces
exec _tkdiff-5.4 "$@"
